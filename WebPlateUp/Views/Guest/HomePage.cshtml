@using Models;
@model HomePageViewModel
@{
    ViewData["Title"] = "HomePage";
    Layout = "~/Views/Shared/MasterPage.cshtml";
}
<link href="~/stylesheet/homepage.css" rel="stylesheet" />
<main class="main">
    <h1 class="PlateUp">PlateUp</h1>
    <p class="description">Lorem ipsum dolor sit amet, consectetur adipi- <br>scing elit, sed do iusmod tempor incididunt ut <br> labore et dolore magna.</p>
    <div class="ReviewBlock">
        <h2 class="Reviews">Reviews</h2>
        <form asp-controller="Client" asp-action="LeaveAReview" class="reviewBox" method="post">
            <input asp-for="Review.ClientId" type="hidden" value="@ViewBag.ClientId" />
            <input asp-for="Review.ReviewDate" type="hidden" value="@ViewBag.ReviewDate" />
            <div class="rating-selector">
                <div class="stars-input">
                    <input asp-for="Review.ReviewRating" type="radio" id="star5" value="5">
                    <label for="star5">★</label>

                    <input asp-for="Review.ReviewRating" type="radio" id="star4" value="4">
                    <label for="star4">★</label>

                    <input asp-for="Review.ReviewRating" type="radio" id="star3" value="3">
                    <label for="star3">★</label>

                    <input asp-for="Review.ReviewRating" type="radio" id="star2" value="2">
                    <label for="star2">★</label>

                    <input asp-for="Review.ReviewRating" type="radio" id="star1" value="1">
                    <label for="star1">★</label>
                </div>
            </div>
            <textarea asp-for="Review.ReviewComment" id="review" placeholder="Write a Review..." class="reviewInput" rows="2"></textarea>
            <div class="validation-errors">
                <span asp-validation-for="Review.ReviewRating" class="errorData"></span>
                <span asp-validation-for="Review.ReviewComment" class="errorData"></span>
                <span asp-validation-for="Review.ClientId" class="errorData"></span>
                <span asp-validation-for="Review.ReviewDate" class="errorData"></span>
            </div>
            <button class="Send" type="submit">Send</button>
        </form>
        <div class="allReviews">
            @foreach (Review review in Model.Reviews)
            {
                <div class="review-card">
                    <div class="review-stars">
                        @{
                            for (int i = 0; i < review.ReviewRating; i++)
                            {
                                <span>★</span>
                            }
                            for (int i = review.ReviewRating; i < 5; i++)
                            {
                                <span style="color: #ccc;">★</span>
                            }
                        }
                    </div>
                    <p class="review-text">
                        @review.ReviewComment
                    </p>
                    <div class="review-footer">
                        <span class="review-client">@review.ClientId</span>
                        <span class="review-date">@review.ReviewDate</span>
                    </div>
                </div>
            }
        </div>
    </div>
</main>
